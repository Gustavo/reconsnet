<%= bootstrap_form_for @person, layout: :horizontal, label_col: 'col-sm-2', control_col: 'col-sm-6' do |f| %>

    <%= f.alert_message 'Favor corrigir o(s) erro(s) abaixo.' %>

    <%= f.text_field :name, label: 'Nome' %>
    <%= f.email_field :email, label: 'E-mail', control_col: 'col-sm-3' %>
    <%= f.select :gender, %w(Masculino Feminino), label: 'Gênero', control_col: 'col-sm-3' %>
    <%= f.date_select :date_of_birth, label: 'Data de nascimento',
                      start_year: 1930, end_year: Date.today.year, include_blank: true, control_col: 'col-sm-3' %>


    <% if @person.landline_number %>
        <!-- O número de telefone é armazenado normalizado no banco (por conta da gem phony)
        portanto aqui mostramos um formato amigável ao usuário -->
        <%= f.text_field :landline_number, value: @person.landline_number.phony_formatted,
                         label: 'Telefone Fixo', help: 'colocar com DDD', control_col: 'col-sm-3' %>
    <% else  %>
        <%= f.text_field :landline_number, label: 'Telefone Fixo', help: 'colocar com DDD', control_col: 'col-sm-3' %>
    <% end  %>


    <% if @person.mobile_number %>
        <%= f.text_field :mobile_number, value: @person.mobile_number.phony_formatted,
                         label: 'Telefone Celular', help: 'colocar com DDD', control_col: 'col-sm-3' %>
    <% else  %>
        <%= f.text_field :mobile_number, label: 'Telefone Celular', help: 'colocar com DDD', control_col: 'col-sm-3' %>
    <% end  %>

    <%= f.fields_for :address do |address| %>
        <%= render :partial => 'common/address', :locals => {:f => address} %>
    <% end %>

    <%= f.form_group do %>
        <%= f.submit 'Salvar' %>
        <% if action_name == 'edit' %>
            <% link = person_path(@person) %>
        <% else %>
            <% link = people_path %>
        <% end %>
        <%= link_to 'Cancelar', link, class: 'btn btn-link' %>
    <% end %>

<% end %>